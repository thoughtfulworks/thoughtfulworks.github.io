<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="icon" href="/assets/images/logo/logo_square.png">

<title>Getting data into Apache Pinot | thoughtful works</title>

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Getting data into Apache Pinot | thoughtful works</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Getting data into Apache Pinot" />
<meta name="author" content="senthil" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Apache Pinot’s file system" />
<meta property="og:description" content="Apache Pinot’s file system" />
<link rel="canonical" href="http://localhost:4000/apache-pinot/2022/getting-data-into-pinot" />
<meta property="og:url" content="http://localhost:4000/apache-pinot/2022/getting-data-into-pinot" />
<meta property="og:site_name" content="thoughtful works" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-12-07T00:00:00+05:30" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Getting data into Apache Pinot" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"senthil"},"dateModified":"2022-12-07T00:00:00+05:30","datePublished":"2022-12-07T00:00:00+05:30","description":"Apache Pinot’s file system","headline":"Getting data into Apache Pinot","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/apache-pinot/2022/getting-data-into-pinot"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/logo/logo_transparent.png"},"name":"senthil"},"url":"http://localhost:4000/apache-pinot/2022/getting-data-into-pinot"}</script>
<!-- End Jekyll SEO tag -->

    
<link href="/assets/css/prism.css" rel="stylesheet">

<link href="/assets/css/theme.css" rel="stylesheet">

<script src="/assets/js/jquery.min.js"></script>

<script src="https://kit.fontawesome.com/a04651ccb8.js" crossorigin="anonymous"></script>

</head>




<body class="line-numbers">
    <div class="site-wrapper">
        <header class="site-header">
            <div class="outer site-nav-main">
                <div class="inner">
                    <nav class="site-nav">
                        <div class="site-nav-left-wrapper">
                            <div class="site-nav-left">
                                <!-- Site Logo/Name -->
                                <a class="navbar-brand" href="/">
                                    <img src="/assets/images/logo/logo_transparent.png" alt="thoughtful works">
                                </a>
                                &nbsp;&nbsp;
                                <a href="https://twitter.com/thoughtfulwx" target="_blank" style="text-decoration: none;">
                                    <span style="color:#000000; font-size: 25px;">
                                        <i class="fa-brands fa-x-twitter"></i>
                                    </span>
                                </a>
                                <a href="https://www.instagram.com/thoughtful.works/" target="_blank" style="text-decoration: none;">
                                    <span style="color:#000000; font-size: 25px;">
                                        <i class="fa-brands fa-square-instagram"></i>
                                    </span>
                                </a> 
                                <a href="https://github.com/thoughtfulworks?tab=repositories" target="_blank" style="text-decoration: none;">
                                    <span style="color:#000000; font-size: 25px;">
                                        <i class="fa-brands fa-github"></i>
                                    </span>
                                </a>
                                <span style="color: grey; font-size: 25px;"><i class="fa-solid fa-ellipsis-vertical"></i></span>
                                <script src="/assets/js/lunr.js"></script>

<style>
    
</style>

<div class="wrap-search">
    <div class="d-flex align-items-center ml-auto">
        <i class="fas fa-search show-search"></i>
        <form class="bd-search ml-3" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
            <input type="text" class="form-control bigradius text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Type and enter..."/>
        </form>
    </div>
</div>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/assets/js/lunrsearchengine.js"></script>
                            </div>
                        </div>
                    </nav>
                </div>
            </div>
        </header>
    </div>

	<!-- Defer loading of font and font awesome -->
	<noscript id="deferred-styles">
		<link href="https://fonts.googleapis.com/css?family=Sen:400,700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	</noscript>

    <!-- Back to top icon/button -->
    <script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
    <!-- <script>addBackToTop()</script>     -->
    <script>addBackToTop({
        diameter: 50,
        backgroundColor: 'rgba(22, 22, 23, .8)',
        textColor: '#fff'
        })
    </script>

    <!-- Begin Sidebar Navigation -->
    <div class="sidebar">    
    </div>   
    <div class="nav-icon">
        <div class="hamburger-bar"></div>
    </div>
    <div id="blackover-nav" class="blackover"></div>
    <nav id="menu">
        <ul>
            <h4>Navigation</h4>
            <li><a href="/tags">Tags</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/authors">Contributors</a></li>
            <li><a href="/contact">Contact us</a></li>       
        </ul>   
    </nav>

    <!-- <script src="/assets/js/lunr.js"></script>

<style>
    
</style>

<div class="wrap-search">
    <div class="d-flex align-items-center ml-auto">
        <i class="fas fa-search show-search"></i>
        <form class="bd-search ml-3" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
            <input type="text" class="form-control bigradius text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Type and enter..."/>
        </form>
    </div>
</div>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/assets/js/lunrsearchengine.js"></script> -->
    <!-- End Sidebar Navigation -->

    <div class="site-content ">

    <div class="container">
        <!-- Content -->
        <div class="main-content">
            <div class="entry-header">
    <!-- Kicker -->
    
        <!--<h6 class="kicker">APACHE PINOT</h6>-->
        <span class="kicker">
            <a href="/categories#apache-pinot">APACHE PINOT</a>
        </span>
    

    <!-- Post Title -->
    <h1 class="posttitle">Getting data into Apache Pinot</h1>

    <!-- Author and Date -->
    
    
        <div class="d-flex align-items-center mt-4" style="font-size: 100%">
            <div>
                
                <img class="author-thumb" src="https://www.gravatar.com/avatar/6fc127cda8cd99830932538a58dc6173?s=250&d=mm&r=x" alt="Senthil Nayagan">
                
            </div>            
            <div>
                
                    <!-- <a target="_blank" href="https://www.linkedin.com/in/senthilnayagan" style="color: black; border-bottom: 1px solid blue;"><b>Senthil Nayagan</b></a> -->
                    <span class="author-name">
                        <a target="_blank" href="https://www.linkedin.com/in/senthilnayagan">Senthil Nayagan</a>
                    </span>
                
                
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    <span class="social-connect-icon">
                        <a target="_blank" href="https://senthilnayagan.com/">
                            <i class="fa-solid fa-window-maximize"></i>
                        </a>
                    </span> 
                                     
                
                    &nbsp;
                    <span class="social-connect-icon">
                        <a target="_blank" href="https://fosstodon.org/@towardsdata">
                            <i class="fa-brands fa-mastodon"></i>
                        </a>                         
                    </span>
                                
                
                    &nbsp;
                    <span class="social-connect-icon">
                        <a target="_blank" href="https://twitter.com/SenthilNayagan">
                            <i class="fa-brands fa-x-twitter"></i>
                        </a>                         
                    </span>                    
                
                
                    &nbsp;
                    <span class="social-connect-icon">
                        <a target="_blank" href="https://www.instagram.com/senthilnayagan">
                            <i class="fa-brands fa-square-instagram"></i>
                        </a>                         
                    </span>                    
                                                   
                <br/> 
                <span class="post-date-and-mins-read">           
                    
                        <i class="fa-regular fa-calendar-days"></i>&nbsp;<time datetime="2022-12-07T00:00:00+05:30">Dec 7, 2022</time>
                    
                    
                    -&nbsp;<i class="fa-solid fa-clock"></i>&nbsp;9 Mins Read
                </span>
            </div>            
        </div>
    
</div>

<!-- Adsense under title if enabled from _config.yml (change your pub id and slot) -->
<!---->

<!-- Tags -->
<div class="article-post">
    <ul class="tags">
        
        
        <li>
            <a class="smoothscroll" href="/tags#apache-pinot">apache-pinot</a>
        </li>
        
        <li>
            <a class="smoothscroll" href="/tags#olap">olap</a>
        </li>
        
        <li>
            <a class="smoothscroll" href="/tags#olap-datastore">olap-datastore</a>
        </li>
        
        <li>
            <a class="smoothscroll" href="/tags#pinot">pinot</a>
        </li>
        
    </ul>
</div>

<!-- Summary -->
<div class="summary">
    
    <hr class="grey_line"></hr>
</div>

<!-- Draft - Shows writing in progress -->
<div class="draft">
    
</div>

<!-- Featured Image -->


<!-- Content -->
<!-- Post, Page Content
================================================== -->
<div class="article-post">
    <!-- Toc if any -->
    
    <!---->
    <div class="toc mt-4 mb-4 lead" style="font-size: 85%">
        <h5 class="font-weight-bold">Table of contents</h5>
        <ul>
  <li><a href="#apache-pinots-file-system">Apache Pinot’s file system</a></li>
  <li><a href="#importing-or-ingesting-data-into-apache-pinot">Importing or ingesting data into Apache Pinot</a>
    <ul>
      <li><a href="#ingestion-readiness">Ingestion readiness</a>
        <ul>
          <li><a href="#pinot-schema">Pinot schema</a>
            <ul>
              <li><a href="#data-types">Data types</a></li>
              <li><a href="#sample-schema">Sample schema</a></li>
            </ul>
          </li>
          <li><a href="#pinot-table-configuration">Pinot table configuration</a>
            <ul>
              <li><a href="#sample-table-configuration">Sample table configuration</a></li>
            </ul>
          </li>
          <li><a href="#ingestion-job-spec">Ingestion job spec</a></li>
        </ul>
      </li>
      <li><a href="#data-ingestion">Data ingestion</a>
        <ul>
          <li><a href="#ingesting-offline-data">Ingesting offline data</a></li>
          <li><a href="#ingesting-realtime-data">Ingesting realtime data</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
    </div>
    
    <!-- End Toc -->
    <h1 id="apache-pinots-file-system">Apache Pinot’s file system</h1>

<p>Let’s first briefly discuss Pinot’s file system. The file system is an abstraction layer that allows users to store and read data in a data layer of their choice for real-time and offline segments. Pinot uses distributed file systems (DFS). Pinot supports the following distributed file systems:</p>

<ul>
  <li><strong>Amazon S3</strong></li>
  <li><strong>Google Cloud Storage</strong></li>
  <li><strong>Azure Data Lake Storage</strong></li>
  <li><strong>HDFS</strong></li>
</ul>

<p>By default, Pinot doesn’t have a storage layer, so if the system crashes, none of the data that was sent will be saved. To store the generated segments permanently in a local or distributed file system, we will have to change how the controller and server are configured to add <strong>deep store</strong>.</p>

<blockquote>
  <p><strong>Deep store:</strong> The deep store is the permanent store for segment files. It is used to make backups and get them back (restore). A cluster’s new server nodes will get a copy of the segment files from the deep store. If the local segment files on a server get damaged in some way, a new copy will be pulled down from the deep store when the server is restarted. Note that the deep store stores a compressed version of the segment files, and it usually doesn’t have any indexes. These compressed files can be kept on a local or a distributed file system.</p>
</blockquote>

<h1 id="importing-or-ingesting-data-into-apache-pinot">Importing or ingesting data into Apache Pinot</h1>

<p>The following Pinot architectural diagram shows how batch and real-time ingestions use different data flows:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><img src="/assets/images/posts/apache-pinot-architecture.png" alt="Pinot Architecture" /></th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><sup><em>Figure 1: Pinot Architecture.</em></sup></td>
      <td><br /><br /></td>
    </tr>
  </tbody>
</table>

<h2 id="ingestion-readiness">Ingestion readiness</h2>

<p>We can either ingest <strong>offline data</strong> or <strong>realtime data</strong> into Pinot. To get both offline and real-time data into Pinot, we need:</p>

<ul>
  <li><strong>Pinot schema</strong></li>
  <li><strong>Pinot table configuration</strong></li>
  <li><strong>Ingestion job spec</strong></li>
</ul>

<h3 id="pinot-schema">Pinot schema</h3>

<p>Schema is used to define the names, data types, and other details for the columns in a Pinot table.</p>

<p>The Pinot schema is composed of:</p>

<ul>
  <li><strong>schemaName</strong> - Defines the name of the schema. Most of the time, this is the same as the table name.</li>
  <li><strong>dimensionFieldSpec</strong> - A dimensionFieldSpec is defined for each dimension column. Dimension columns are typically used in slice-and-dice operations such as <code>GROUP BY</code> and <code>WHERE</code>.</li>
  <li><strong>metricFieldSpec</strong> - A metricFieldSpec is defined for each metric column. Aggregation is done with the help of metric columns. In the dialect of a data warehouse, these can also be called fact or measure columns. Some operation for which metric columns are used:
    <ul>
      <li>Aggregation - <code>SUM</code>, <code>MIN</code>, <code>MAX</code>, <code>COUNT</code>, <code>AVG</code>, etc.</li>
      <li>Filter clause such as <code>WHERE</code></li>
    </ul>
  </li>
  <li><strong>dateTimeFieldSpec</strong> - A dateTimeFieldSpec is defined for the time columns. Note that there can be multiple time columns in a table, but only one of them can be treated as primary. The primary time column is used by Pinot to maintain the time boundary between offline and real-time data in a hybrid table and for retention management. A primary time column is mandatory if the table’s push type is <code>APPEND</code> and optional if the push type is <code>REFRESH</code>. Common operations that can be done on time column: <code>GROUP BY</code> and <code>WHERE</code>.</li>
</ul>

<p>Pinot doesn’t have strict rules about which of these categories these columns belong to. Instead, you can think of the categories as indications that Pinot can use to do internal optimizations. When we do segment merges and rollups, the categories are also important. Pinot uses the time and dimension fields to figure out which records to merge or roll up.</p>

<h4 id="data-types">Data types</h4>

<p>Data types determine the operations that can be performed on a column. Pinot supports the following data types:</p>

<ul>
  <li><code>INT</code></li>
  <li><code>LONG</code></li>
  <li><code>FLOAT</code></li>
  <li><code>DOUBLE</code></li>
  <li><code>BIG_DECIMAL</code></li>
  <li><code>BOOLEAN</code></li>
  <li><code>TIMESTAMP</code></li>
  <li><code>STRING</code></li>
  <li><code>JSON</code></li>
  <li><code>BYTES</code></li>
</ul>

<blockquote>
  <p><strong>No explicit type exists for lists or arrays:</strong> Pinot also works with columns that have lists or arrays of items, but there isn’t a specific data type for these lists or arrays. We can instead say that a dimension column can take more than one value.</p>
</blockquote>

<h4 id="sample-schema">Sample schema</h4>

<p>Here’s an example of a Pinot schema for an <code>employee</code> table:</p>

<pre><code class="language-json">{
  "schemaName": "employee",
  "dimensionFieldSpecs": [
    {
      "name": "id",
      "dataType": "LONG"
    },
    {
      "name": "name",
      "dataType": "STRING",
    },
    {
      "name": "age",
      "dataType": "INT",
    }
  ],
  "metricFieldSpecs": [
    {
      "name": "salary",
      "dataType": "DOUBLE",
      "defaultNullValue": 0
    }
  ],
  "dateTimeFieldSpecs": [
    {
      "name": "createdOn",
      "dataType": "LONG",
      "format": "EPOCH",
      "granularity": "15:MINUTES"
    },
    {
      "name": "modifiedOn",
      "dataType": "LONG",
      "format": "EPOCH",
      "granularity": "15:MINUTES"
    }
  ]
}
</code></pre>

<h3 id="pinot-table-configuration">Pinot table configuration</h3>

<p>Now that we know what our schema is, we can use table configuration to set up the table. Table configuration is used to define the table properties, such as <strong>name</strong>, <strong>type</strong>, <strong>indexing</strong>, <strong>routing</strong>, <strong>retention</strong>, etc. It is written in JSON format and is stored in ZooKeeper, along with the table schema.</p>

<p>This table definition has the following information at a very high level:</p>

<ul>
  <li>How Pinot should create segments for this table.</li>
  <li>Required configurations for indexing.</li>
  <li>Table type, which is set to OFFLINE in this case.</li>
</ul>

<h4 id="sample-table-configuration">Sample table configuration</h4>

<p>A sample table configuration for an employee table is shown below. The <code>tableType</code> property shows us that it is an offline table.</p>

<pre><code class="language-json">{
  "tableName": "employee",
  "segmentsConfig" : {
    "timeColumnName": "createdOn",
    "timeType": "MILLISECONDS",
    "replication" : "2",
    "schemaName" : "employee"
  },
  "tableIndexConfig" : {
    "invertedIndexColumns" : [],
    "loadMode"  : "MMAP"
  },
  "tenants" : {
    "broker": "DefaultTenant",
    "server": "DefaultTenant"
  },
  "tableType": "OFFLINE",
  "metadata": {}
}
</code></pre>

<h3 id="ingestion-job-spec">Ingestion job spec</h3>

<p>So far, we have set up the schema and table configuration. Just one more configuration needs to be made, which is the ingestion job specification. In order to ingest data into Pinot, Pinot requires us to create an ingestion job specification file. The job spec can be in either YAML or JSON format. This spec file tells Pinot about:</p>

<ul>
  <li>Where to find the raw data</li>
  <li>Where to create the segments</li>
  <li>Other ingestion-related configuration directives</li>
</ul>

<p>The following is the sample ingestion job spec file:</p>

<pre><code class="language-yaml">executionFrameworkSpec:
  name: 'standalone'
  segmentGenerationJobRunnerClassName: 'org.apache.pinot.plugin.ingestion.batch.standalone.SegmentGenerationJobRunner'
  segmentTarPushJobRunnerClassName: 'org.apache.pinot.plugin.ingestion.batch.standalone.SegmentTarPushJobRunner'
  segmentUriPushJobRunnerClassName: 'org.apache.pinot.plugin.ingestion.batch.standalone.SegmentUriPushJobRunner'
jobType: SegmentCreationAndTarPush
inputDirURI: '$BASE_DIR/rawdata/'
includeFileNamePattern: 'glob:**/*.csv'
outputDirURI: '$BASE_DIR/segments/'
overwriteOutput: true
pinotFSSpecs:
  - scheme: file
    className: org.apache.pinot.spi.filesystem.LocalPinotFS
recordReaderSpec:
  dataFormat: 'csv'
  className: 'org.apache.pinot.plugin.inputformat.csv.CSVRecordReader'
  configClassName: 'org.apache.pinot.plugin.inputformat.csv.CSVRecordReaderConfig'
tableSpec:
  tableName: 'employee'
pinotClusterSpecs:
  - controllerURI: 'http://localhost:9001'
</code></pre>

<p>During ingestion, Pinot offers support for various popular input formats. By changing the format of the input, we can cut down on the time it takes to serialize and de-serialize and speed up the ingestion.</p>

<p>The <code>recordReaderSpec</code> property in the ingestion job spec can be used to change the format of the input:</p>

<pre><code class="language-yaml">recordReaderSpec:
  dataFormat: 'csv'
  className: 'org.apache.pinot.plugin.inputformat.csv.CSVRecordReader'
  configClassName: 'org.apache.pinot.plugin.inputformat.csv.CSVRecordReaderConfig'
  configs: 
	key1 : 'value1'
	key2 : 'value2'
</code></pre>

<p>The config consists of the following keys:</p>

<ul>
  <li><code>dataFormat</code> - Name of the data format to consume.</li>
  <li><code>className</code> - This class is used for parsing the data.</li>
  <li><code>configClassName</code> - This class is used to parse the values mentioned in <code>configs</code>.</li>
  <li><code>configs</code> - Key value pair for format specific configs. We can skip this config.</li>
</ul>

<p>For more details about the job spec properties, refer <a href="https://docs.pinot.apache.org/configuration-reference/job-specification#top-level-spec" target="_blank">here</a>.</p>

<h2 id="data-ingestion">Data ingestion</h2>

<p>As mentioned above, Pinot supports a number of popular <em>input</em> formats when it comes to ingesting. Here are the input formats that can be used:</p>

<ul>
  <li><strong>CSV</strong></li>
  <li><strong>JSON</strong></li>
  <li><strong>Thrift</strong></li>
  <li><strong>AVRO</strong></li>
  <li><strong>Parquet</strong></li>
  <li><strong>ORC</strong></li>
  <li><strong>Protocol Buffers</strong></li>
</ul>

<p>Refer the official documentation <a href="https://docs.pinot.apache.org/basics/data-import/pinot-input-formats#supported-input-formats" target="_blank">here</a> to learn more about how to configure the properties of input formats.</p>

<h3 id="ingesting-offline-data">Ingesting offline data</h3>

<p>Offline ingestion stores data in offline tables that are kept separate from realtime tables. Segments for offline tables are constructed <em>outside of Pinot</em>, usually in Hadoop via map-reduce jobs and ingested into Pinot via REST API provided by the Controller. Pinot has libraries that can create Pinot segments from input files in AVRO, JSON, or CSV formats in a Hadoop job and send them to the controllers via REST APIs.</p>

<p>When an offline segment is ingested, the controller looks up the table’s configuration and assigns the segment to the servers that host the table. Depending on how many replicas are set up for that table, it may put more than one server in charge of each segment.</p>

<blockquote>
  <p><strong>Note:</strong> Pinot supports different segment assignment strategies that are optimized for various use cases.</p>
</blockquote>

<p>Once segments are assigned, Pinot servers get notified via Helix to host or serve the segment. The segments are downloaded from the remote segment store to the local storage, where they are untarred/unzipped and mapped to memory. Helix lets brokers know that these segments are available once the server has loaded (memory-mapped) them. The brokers start to add the new segments for queries.</p>

<blockquote>
  <p><strong>Offline data segments are immutable:</strong> Data in offline segments are immutable (rows cannot be added, deleted, or modified). However, segments may be replaced with data that has been changed.</p>
</blockquote>

<p>Pinot supports uploading offline segments to real-time tables. This is helpful when a user wants to start a real-time table with some initial data.</p>

<h3 id="ingesting-realtime-data">Ingesting realtime data</h3>

<p>When realtime data is ingested, it is stored in realtime tables. Pinot servers ingest rows from data streams like Kafka and use them to build segments for realtime tables. As soon as a row is ingested from a stream, it is made available for query processing. This is because events are instantly indexed in memory upon ingestion.</p>

<blockquote>
  <p><strong>Note:</strong> The ingestion of events into the realtime table is not transactional, so replicas of the open segment are not immediately consistent or same.</p>
</blockquote>

<p>A pinot table can be configured to use one of two ways to get data from streams:</p>

<ul>
  <li><code>lowLevel</code> - This is the preferred mode of consumption. Pinot creates separate consumers at the partition-level for each partition.</li>
  <li><code>highLevel</code> - Pinot creates one stream-level consumer that consumes from all partitions. Each message consumed could be from any of the partitions of the stream.</li>
</ul>

<p>In either mode, the rows that are ingested are stored in volatile memory until one of the following happens:</p>

<ul>
  <li>A certain number of rows are consumed.</li>
  <li>Consumption has been going on for a certain amount of time.</li>
</ul>

<p>When one of the above limits is reached, the servers do the following:</p>

<ul>
  <li>Pause consumption.</li>
  <li>Persist the rows consumed so far into non-volatile storage.</li>
  <li>Keep consuming new rows into volatile memory.</li>
</ul>

<p>The persisted rows form what we call a <strong>completed segment</strong>. This is different from a <strong>consuming segment</strong>, which resides in volatile memory.</p>

</div>

<!-- Rating -->


<!-- Author Box if enabled from _config.yml -->
<!-- Author Box -->




<!-- Comments if not disabled with comments: false -->
<!-- Comments
================================================== -->
 
<div class="comments mt-5">
    <button class="btn btn-outline-dark py-3 px-5 d-block w-100 show-comments"><i class="fa fa-comments text-muted"></i> &nbsp; Show comments</button>         
    <div id="comments">  
        <h4 class="mb-4">Comments</h4>                 
            <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'rustinaction'; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
     
    <div class="clearfix"></div>              
    </div>    
</div>       


<!-- Share -->
<div class="share">
    <!-- <ul>
        <li class="ml-1 mr-1">
            <a href="/" ><i class="fas fa-home"></i></a>
        </li>
    </ul>
    <hr> -->
    <!---->
    <span>Share</span>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=Getting data into Apache Pinot&url=http://localhost:4000/apache-pinot/2022/getting-data-into-pinot" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fa-brands fa-x-twitter"></i>
            </a>
        </li>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/apache-pinot/2022/getting-data-into-pinot" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>
        <!--<li class="ml-1 mr-1">
            <a target="_blank" href="http://news.ycombinator.com/submitlink?u=http://localhost:4000/apache-pinot/2022/getting-data-into-pinot" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fab fa-y-combinator"></i>
            </a>
        </li>
        <li class="ml-1 mr-1">
            <a target="_blank" href="http://www.reddit.com/submit?url=http://localhost:4000/apache-pinot/2022/getting-data-into-pinot&title=Getting data into Apache Pinot" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fab fa-reddit"></i>
            </a>
        </li>-->                 
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://api.whatsapp.com/send?text=Getting data into Apache Pinot%20http://localhost:4000/apache-pinot/2022/getting-data-into-pinot" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fab fa-whatsapp"></i>
            </a>
        </li>
        <li class="ml-1 mr-1">
            <a href="#" onclick="copyToClipboard()">
                <i class="fas fa-link"></i>
            </a>
            <script>
                function copyToClipboard() { 
                   window.navigator.clipboard.writeText(`http://localhost:4000/apache-pinot/2022/getting-data-into-pinot`);
                }
            </script>
        </li>         
        <!--
        
            <ul>
                <li>
                <a class="small" href="#disqus_thread"></a>
                </li>
            </ul>
           
        -->
    </ul>
    <!---->
</div>


<!-- Related Post -->
<!-- Related Posts
================================================== -->
<div class=" related-posts ">  

    
    <h2 class="text-center mb-4">Explore more like this</h2>
    
    
    <div class="d-flex justify-content-center align-items-center">
    
    <!-- Categories -->
    <!--
    
    
    <a class="smoothscroll badge badge-primary text-capitalize" href="/categories#apache-pinot">apache-pinot</a>                
    
    -->

    <!-- Tags -->  
    
                    
    <a class="smoothscroll badge badge-primary text-lowercase" href="/tags#apache-pinot">apache-pinot</a>               
                    
    <a class="smoothscroll badge badge-primary text-lowercase" href="/tags#olap">olap</a>               
                    
    <a class="smoothscroll badge badge-primary text-lowercase" href="/tags#olap-datastore">olap-datastore</a>               
                    
    <a class="smoothscroll badge badge-primary text-lowercase" href="/tags#pinot">pinot</a>               
    

    </div>

    
    
    
    <div class="blog-grid-container">
        
            
                
                
            
                
            
                
               
        
            
                
                
            
                
            
                
               
        
            
                
                
            
                
            
                
               
        
               
        
            
                
                
            
                
            
                
               
        
            
                
                
            
                
            
                
               
        
            
                
                
            
                
            
                
                <!-- begin post -->


<div class="blog-grid-item">
    <div class="card h-100">
        <div class="maxthumb">
            <a href="/apache-pinot/2024/introduction-to-apache-pinot">
                
                    
                        <img class="img-thumb" src="/assets/images/posts-cover-images/presto-pinot-kafka.png" alt="Apache Pinot joins hands with Kafka and Presto to provide low-latency, high-throughput user-facing analytics"> 
                    
                
            </a>
        </div>
        <div class="card-body">
            <h2 class="card-title">
                <a class="text-dark" href="/apache-pinot/2024/introduction-to-apache-pinot">Apache Pinot joins hands with Kafka and Presto to provide low-latency, high-throughput user-facing analytics</a>
                
            </h2>
            <span class="card-text">Apache Pinot is a real-time, distributed OLAP datastore that was built for low-latency, high-throughput analytics, making it perfect for user-facing analytical workloads. Pinot joins hands with Kafka and Presto to provide user-facing analytics.</span>
        </div>
        <!-- 
            <div class="card-footer d-flex align-items-center mt-0" style="font-size: 85%">
                <div>
                    <img class="author-thumb" src="https://www.gravatar.com/avatar/6fc127cda8cd99830932538a58dc6173?s=250&d=mm&r=x" alt="Senthil Nayagan">
                </div>
                <div class="post-name">
                    <span class="author-name">
                        <b>Senthil Nayagan</b>
                    </span>
                    <br/>
                    <span style="color: rgba(23, 24, 30, .5);"><i class="fa-regular fa-calendar-days"></i>&nbsp;Jan 16, 2024 - <i class="fa-solid fa-clock"></i><span class="reading-time">
  
  
    17 Mins Read
  
</span></span>
                </div>
            </div>
         -->
        <div class="clearfix"></div>

        <!-- Tags -->
        <div class="card-footer">
            <ul class="tags">
                
                
                <li>
                    <a class="smoothscroll" href="/tags#apache-pinot">apache-pinot</a>
                </li>
                
                <li>
                    <a class="smoothscroll" href="/tags#olap">olap</a>
                </li>
                
                <li>
                    <a class="smoothscroll" href="/tags#olap-datastore">olap-datastore</a>
                </li>
                
                <li>
                    <a class="smoothscroll" href="/tags#pinot">pinot</a>
                </li>
                
            </ul>                    
        </div>        
    </div>
</div>
<!-- end post -->
                
                
                
               
        
            
                
                
            
                
            
                
               
        
               
        
            
                
                
            
                
            
                
               
        
            
                
                
            
                
            
                
               
        
            
                
                
            
                
            
                
               
        
               
        
            
                
                
            
                
            
                
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
               
        
            
                
                
            
                
            
                
               
        
               
        
            
                
                
            
                
            
                
               
        
            
                
                
            
                
            
                
               
        
               
        
            
                
                
            
                
            
                
               
        
            
                
                
            
                
            
                
               
        
            
                
                
            
                
            
                
               
        
            
                
                
            
                
            
                
               
        
               
        
            
                
                
            
                
            
                
               
        
        </div>        
</div>

<!-- Review with LD-JSON, adapt it for your needs if you like, but make sure you test the generated HTML source code first: 
https://search.google.com/structured-data/testing-tool/u/0/
================================================== -->

        </div>

        
        <!-- Newsletter -->
        <div class="newsletter text-center">
            <span class="h4"><!--<img src="/assets/images/logo/logo_transparent.png" class="newsletter-logo" alt="thoughtful works"> &nbsp;-->If you like our posts and don't want to miss any of them, sign up for our newsletter.</span>
            <form action="https://gmail.us17.list-manage.com/subscribe?u=155954fdd35cc37fcbfab134a&id=acc42a78d4" method="post" name="mc-embedded-subscribe-form" class="wj-contact-form validate" target="_blank" novalidate>
                <div class="mc-field-group d-inline-flex">
                <input type="email" placeholder="Your e-mail" name="EMAIL" class="required email" id="mce-EMAIL" autocomplete="on" required>
                <input type="submit" value="Subscribe" name="subscribe" class="heart">
                </div>
            </form>
        </div>
        
        
    </div>

    <!-- Begin Footer -->
    <!-- <script>
        const repoOwner = 'rust-lang';
        const repoName = 'rust';

        const apiUrlRelease = `https://api.github.com/repos/${repoOwner}/${repoName}/releases/latest`;
      
        fetch(apiUrlRelease)
            .then(response => response.json())
            .then(data => {
            document.getElementById('current-release').innerText = `${data.tag_name}`;
            document.getElementById('release-url').innerHTML = `<a href="${data.html_url}" target="_blank">${data.tag_name}</a>`;
            })
            .catch(error => console.error('Error fetching GitHub release information:', error));
    </script>  -->

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-sm-12 text-center text-lg-left">
                    Copyright © 2024 <b>thoughtful works</b> | <a href="/privacy-policy.html" target="_blank">Privacy Policy</a> | Made with <b>Jekyll</b> and hosted on <b>GitHub Pages</b> | This website DOES NOT use cookies.
                </div>
                <div class="col-md-6 col-sm-12 text-center text-lg-right">    
                    <!-- <i class="fa-brands fa-rust"></i> <a href=`<span id="release-url"></span>`><span id="current-release"></span></a>&nbsp;<i class="fa-solid fa-tag"></i>&nbsp;(latest) -->
                    <!-- - <i class="fa-solid fa-star"></i> <span id="repo-stars"></span> -->
                </div>
            </div>
        </div>
    </footer>
    <!-- End Footer -->

    </div> <!-- /.site-content -->

    <!-- Scripts (if you need bootstrap.js, please add it yourself. I didn't use it for performance reasons, it was not needed in this theme) -->

    <script src="/assets/js/prism.js"></script>

    <script src="/assets/js/theme.js"></script>

    

    
    <script id="dsq-count-scr" src="//rustinaction.disqus.com/count.js"></script>
    
</body>
</html>
